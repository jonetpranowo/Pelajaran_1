---
title: "Pertemuan Pertama"
author: "Lilik Pranowo"
date: "March 22, 2017"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
#Alternative using "dplyr" package
##Data manipulation

Load "dplyr" and "tidyr" packages
```{r}
library(dplyr) 
library(tidyr)
```

Read data:
```{r}
dat <- read.csv("ArrestMini.csv")
dat<-na.omit(dat)
```

Create new variables: "DATE" and "TIME" from variables "ARRESTTIME" then save it to "dat1" dataframe
```{r}
dat1 <- dat %>% 
  separate(ARRESTTIME, c('DATE', 'TIME'), sep = 'T')
```

```{r echo=FALSE}
head (dat1)
```

Aggregate council districts that is affected by crime on the day --> I save it as "Arrest_Daily"
```{r}
Arrest_Daily <- dat1 %>%
  mutate(Date = as.Date(DATE, "%m/%d/%Y")) %>%
  group_by(DATE) %>%
  summarize(CASES = n(), NUM_COUNCIL = n_distinct(COUNCIL_DISTRICT)) %>%
  arrange(DATE) 
```

```{r echo=FALSE}
Arrest_Daily
```

Aggregate council districts that is affected by crime on the day --> I save it as "Arrest_Daily"
```{r}
Arrest_Daily <- dat1 %>%
  mutate(Date = as.Date(DATE,"%Y-%m-%d")) %>%
  group_by(DATE) %>%
  summarize(CASES = n(), NUM_COUNCIL = n_distinct(COUNCIL_DISTRICT)) %>%
  arrange(DATE) 

```

```{r echo=FALSE}
Arrest_Daily
```

## Including Plots

You can also embed plots, for example:

convert variable "Date" from character to date
```{r}
rdate <- as.Date(Arrest_Daily$DATE, "%Y-%m-%d")
```

```{r}
plot(Arrest_Daily$NUM_COUNCIL~rdate, type="l", col="red")
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
